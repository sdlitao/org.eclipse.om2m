<!DOCTYPE html>
<html ng-app="gemDelegate">
<head>
<script src="js/angular.js"></script>
<script src="js/angular-animate.js"></script>
<script src="js/angular-sanitize.js"></script>
<script src="js/xml2json.min.js"></script>
<!-- script src="js/ui-bootstrap-tpls-2.1.2.js"></script-->
<link href="css/bootstrap-3.0.1.min.css" rel="stylesheet">
<script type="text/javascript" src="js/abn_tree_directive.js"></script>
<link href="css/abn_tree.css" rel="stylesheet">
<link href="css/comparator.css" rel="stylesheet">
<script type="text/javascript" src="js/comparator.js"></script>
</head>
<body>

	<script type="text/javascript">
	
		function getContext() {
			var url = new URL(window.location);
			var context = url.searchParams.get("context");
			return context;
		}
		
		// this script checks if context http parameter is valued in the url
		// if not, it redirects automatically to the /comparator root url
		context = getContext();
		if (context == undefined) {
			window.location = "/comparator";
		}
	
	</script>
	
	
	<div class="cont">
		<figure>
			<a href="#"><img src="images/logo.png" alt=""></a>
		</figure>
		<h2>oneM2M Smart Device Template Viewer</h2>
		<br />
		<div ng-app="gemDelegate" ng-controller="delegationController" ng-init="initContext(context)" >
		

			<table width="100%">
				<tr>
					<td class="half" width="50%" valign="top"><select
						ng-model="selectedDevice" ng-options="x.friendlyName for x in devices"
						ng-change="updateTree1()"></select> <abn-tree tree-data="my_data"
							tree-control="my_tree" on-select="my_tree_handler1(branch)"
							expand-level="4" icon-leaf="icon-caret-right"></abn-tree> <!--p>selectbox: {{selectedDevice.model}}</p>
					<p>treeItem: {{selectedItem1}}</p--></td>
					<td class="half" width="50%" valign="top"><select
						ng-model="selectedDevice2" ng-options="x.friendlyName for x in devices"
						ng-change="updateTree2()"></select> <abn-tree tree-data="my_data2"
							tree-control="my_tree2" on-select="my_tree_handler2(branch)"
							expand-level="4" icon-leaf="imgPath"></abn-tree> <!--p>selectbox: {{selectedDevice2.model}}</p>
					<p>treeItem: {{selectedItem2}}</p--></td>
				</tr>
			</table>
		</div>
	</div>
</body>
</html>